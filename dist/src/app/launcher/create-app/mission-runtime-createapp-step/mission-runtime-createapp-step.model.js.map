{"version":3,"sources":["../../../../../../src/app/launcher/create-app/mission-runtime-createapp-step/mission-runtime-createapp-step.model.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,KAAK,CAAC,MAAM,QAAQ,CAAC;AAE5B,OAAO,EAAE,OAAO,EAAE,MAAM,2BAA2B,CAAC;AACpD,OAAO,EAAE,OAAO,EAAE,MAAM,2BAA2B,CAAC;AAIpD;IAAiC,+BAAO;IAAxC;QAAA,qEAUC;QAHC,cAAQ,GAAY,KAAK,CAAC;QAC1B,cAAQ,GAAY,KAAK,CAAC;;IAE5B,CAAC;IAAD,kBAAC;AAAD,CAVA,AAUC,CAVgC,OAAO,GAUvC;;AAED;IAAiC,+BAAO;IAAxC;QAAA,qEAUC;QAFC,cAAQ,GAAY,KAAK,CAAC;;IAE5B,CAAC;IAAD,kBAAC;AAAD,CAVA,AAUC,CAVgC,OAAO,GAUvC;;AAED,MAAM,6BAA6B,QAAmB;IACpD,IAAM,gBAAgB,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,OAAO,CAAC,EAAE,EAAZ,CAAY,CAAC,CAAC;IAChE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,UAAA,eAAe;QACnD,IAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC;QACjD,MAAM,CAAC;YACL,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,SAAS,EAAE,KAAK;YAChB,QAAQ,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,gBAAgB,CAAC,KAAK,UAAU,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,uBAAuB,EAAE,KAAK,CAAC;YAC3G,SAAS,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,oBAAoB,EAAE,KAAK,CAAC;YACtD,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,eAAe;SACX,CAAC;IACnB,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,6BAA6B,QAAmB,EAAE,gBAAyB;IAC/E,IAAM,gBAAgB,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,OAAO,CAAC,EAAE,EAAZ,CAAY,CAAC,CAAC;IAChE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,UAAA,eAAe;QACnD,IAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC;QACjD,MAAM,CAAC;YACL,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,gBAAgB,EAAE,gBAAgB;YAClC,SAAS,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,oBAAoB,EAAE,KAAK,CAAC;YACtD,YAAY,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,uBAAuB,EAAE,KAAK,CAAC;YAC5D,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,eAAe;SACX,CAAC;IACnB,CAAC,CAAC,CAAC;AACL,CAAC","file":"mission-runtime-createapp-step.model.js","sourceRoot":"","sourcesContent":["import * as _ from 'lodash';\n\nimport { Mission } from '../../model/mission.model';\nimport { Runtime } from '../../model/runtime.model';\nimport { Booster, BoosterVersion } from '../../model/booster.model';\nimport { EmptyReason } from '../../service/mission-runtime.service';\n\nexport class ViewMission extends Mission {\n  advanced: boolean;\n  suggested: boolean;\n  disabled: boolean;\n  disabledReason?: EmptyReason;\n  prerequisite: boolean;\n  community: boolean;\n  showMore: boolean = false;\n  shrinked: boolean = false;\n  boosters: Booster[];\n}\n\nexport class ViewRuntime extends Runtime {\n  disabled: boolean;\n  disabledReason?: EmptyReason;\n  prerequisite: boolean;\n  canChangeVersion: boolean;\n  suggested: boolean;\n  selectedVersion: { id: string; name: string; };\n  versions: BoosterVersion[];\n  showMore: boolean = false;\n  boosters: Booster[];\n}\n\nexport function createViewMissions(boosters: Booster[]): ViewMission[] {\n  const groupedByMission = _.groupBy(boosters, b => b.mission.id);\n  return _.values(groupedByMission).map(missionBoosters => {\n    const mission = _.first(missionBoosters).mission;\n    return {\n      id: mission.id,\n      name: mission.name,\n      description: mission.description,\n      community: false,\n      advanced: _.get(mission, 'metadata.level') === 'advanced' || _.get(mission, 'metadata.prerequisite', false),\n      suggested: _.get(mission, 'metadata.suggested', false),\n      showMore: false,\n      disabled: true,\n      boosters: missionBoosters\n    } as ViewMission;\n  });\n}\n\nexport function createViewRuntimes(boosters: Booster[], canChangeVersion: boolean): ViewRuntime[] {\n  const groupedByRuntime = _.groupBy(boosters, b => b.runtime.id);\n  return _.values(groupedByRuntime).map(runtimeBoosters => {\n    const runtime = _.first(runtimeBoosters).runtime;\n    return {\n      id: runtime.id,\n      name: runtime.name,\n      description: runtime.description,\n      icon: runtime.icon,\n      canChangeVersion: canChangeVersion,\n      suggested: _.get(runtime, 'metadata.suggested', false),\n      prerequisite: _.get(runtime, 'metadata.prerequisite', false),\n      showMore: false,\n      disabled: true,\n      boosters: runtimeBoosters\n    } as ViewRuntime;\n  });\n}\n\n"]}
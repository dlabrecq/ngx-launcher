{"version":3,"sources":["../../../../../../src/app/launcher/create-app/mission-runtime-createapp-step/mission-runtime-createapp-step.component.ts"],"names":[],"mappings":"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","file":"mission-runtime-createapp-step.component.js","sourceRoot":"","sourcesContent":["import { Component, Host, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport * as _ from 'lodash';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Broadcaster } from 'ngx-base';\n\nimport { Mission } from '../../model/mission.model';\nimport { Runtime } from '../../model/runtime.model';\nimport { EmptyReason, MissionRuntimeService } from '../../service/mission-runtime.service';\nimport { LauncherComponent } from '../../launcher.component';\nimport { LauncherStep } from '../../launcher-step';\nimport { Booster, BoosterVersion } from '../../model/booster.model';\nimport { Selection } from '../../model/selection.model';\nimport {\n  createViewMissions,\n  createViewRuntimes,\n  ViewMission,\n  ViewRuntime\n} from './mission-runtime-createapp-step.model';\nimport { broadcast } from '../../shared/telemetry.decorator';\n\n\n\nexport class MissionRuntimeCreateappStepComponent extends LauncherStep implements OnInit, OnDestroy {\n  public missionId: string;\n  public runtimeId: string;\n\n  private disabledReason = EmptyReason;\n  private _missions: ViewMission[] = [];\n  private _runtimes: ViewRuntime[] = [];\n  private _boosters: Booster[] = null;\n  private _cluster: string;\n  private versionId: string;\n\n  private subscriptions: Subscription[] = [];\n\n  constructor( public launcherComponent: LauncherComponent,\n              private missionRuntimeService: MissionRuntimeService,\n              public _DomSanitizer: DomSanitizer,\n              private broadcaster: Broadcaster) {\n    super();\n  }\n\n  ngOnInit() {\n    this.launcherComponent.addStep(this);\n    this.subscriptions.push(this.missionRuntimeService.getBoosters()\n      .subscribe(boosters => {\n        this._boosters = boosters;\n        this.initBoosters();\n        this.restoreFromSummary();\n      }));\n    this.subscriptions.push(this.broadcaster.on('cluster').subscribe(() => this.initBoosters()));\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub) => {\n      sub.unsubscribe();\n    });\n  }\n\n  initBoosters(): void {\n    this._runtimes = createViewRuntimes(this._boosters, this.launcherComponent.flow === 'launch');\n    this._missions = createViewMissions(this._boosters);\n    this.updateBoosterViewStatus();\n  }\n\n// Accessors\n\n  /**\n   * Returns a list of missions to display\n   *\n   * @returns {Mission[]} The missions to display\n   */\n  get missions(): ViewMission[] {\n    return this._missions;\n  }\n\n  /**\n   * Returns a list of runtimes to display\n   *\n   * @returns {Runtime[]} The runtimes to display\n   */\n  get runtimes(): ViewRuntime[] {\n    return this._runtimes;\n  }\n\n  get cluster(): string {\n    return this._cluster;\n  }\n\n  /**\n   * Returns indicator for at least one selection has been made\n   *\n   * @returns {boolean} True at least one selection has been made\n   */\n  get selectionAvailable(): boolean {\n    return (this.launcherComponent.summary.mission !== undefined\n      || this.launcherComponent.summary.runtime !== undefined);\n  }\n\n  /**\n   * Returns indicator that step is completed\n   *\n   * @returns {boolean} True if step is completed\n   */\n  get completed(): boolean {\n    return (this.launcherComponent.summary.mission !== undefined\n      && this.launcherComponent.summary.runtime !== undefined\n      && this.launcherComponent.summary.runtime.version !== undefined);\n  }\n\n  // Steps\n\n  /**\n   * Navigate to next step\n   */\n  @broadcast('completeMissionRuntimeStep', {\n    'launcherComponent.summary': {\n      mission: 'mission.name',\n      runtime: 'runtime.name'\n    }\n  })\n\n  navToNextStep(): void {\n    this.launcherComponent.navToNextStep('MissionRuntime');\n  }\n\n  showStep(id: string, reset: boolean): void {\n    if (reset) {\n      this.resetSelections();\n    }\n    this.launcherComponent.showStep(id);\n  }\n\n  /**\n   * Reset current selections\n   */\n  resetSelections(): void {\n    this.clearMission();\n    this.clearRuntime();\n    this.updateBoosterViewStatus();\n  }\n\n  selectBooster(mission?: ViewMission, runtime?: ViewRuntime, version?: BoosterVersion): void {\n    if (mission && !mission.disabled) {\n      this.missionId = mission.id;\n      this.launcherComponent.summary.mission = mission;\n    }\n    if (runtime && !runtime.disabled) {\n      this.runtimeId = runtime.id;\n      const newVersion =  version ? version : runtime.selectedVersion;\n      this.versionId = newVersion.id;\n      this.launcherComponent.summary.runtime = runtime;\n      this.launcherComponent.summary.runtime.version = newVersion;\n\n      // FIXME: use a booster change event listener to do this\n      // set maven artifact\n      if (this.launcherComponent.flow === 'osio' && this.completed) {\n        this.launcherComponent.summary.dependencyCheck.mavenArtifact = this.createMavenArtifact();\n      }\n    }\n    this.handleBlankMissionFlow();\n    this.updateBoosterViewStatus();\n  }\n\n  handleBlankMissionFlow(): void {\n    if (this.launcherComponent.summary.mission && this.launcherComponent.summary.runtime &&\n      this.launcherComponent.summary.mission.id === 'blank-mission') {\n      let runtimeSp: any = this.launcherComponent.summary.runtime;\n      if (runtimeSp && runtimeSp.boosters && runtimeSp.boosters.length > 0) {\n        let supportedMission: any = runtimeSp.boosters[0];\n        this.launcherComponent.summary.mission.meta = supportedMission.mission.id;\n      }\n    }\n  }\n\n  // Private\n\n  private createMavenArtifact(): string {\n    const artifactTS: number = Date.now();\n    const artifactRuntime = this.launcherComponent.summary.runtime.id.replace(/[.\\-_]/g, '');\n    const artifactMission = this.launcherComponent.summary.mission.id.replace(/[.\\-_]/g, '');\n    return `booster-${artifactMission}-${artifactRuntime}-${artifactTS}`;\n  }\n\n  private restoreFromSummary(): void {\n    let selection: Selection = this.launcherComponent.selectionParams;\n    if (!selection) {\n      return;\n    }\n    const mission = this.missions.find(m => m.id === selection.missionId);\n    const runtime = this.runtimes.find(r => r.id === selection.runtimeId);\n    this.selectBooster(mission, runtime, selection.runtimeVersion);\n  }\n\n  private getSelectedCluster(): string {\n    if (this.launcherComponent.summary.targetEnvironment === 'os') {\n      return _.get(this.launcherComponent.summary, 'cluster.type');\n    }\n    return null;\n  }\n\n  private updateBoosterViewStatus(): void {\n    this._cluster = this.getSelectedCluster();\n    this._missions.forEach(mission => {\n      if (mission.id !== 'blank-mission') {\n        let availableBoosters = MissionRuntimeService.getAvailableBoosters(mission.boosters,\n          this._cluster, mission.id);\n        if (availableBoosters.empty) {\n          mission.shrinked = true;\n        } else {\n          availableBoosters = MissionRuntimeService.getAvailableBoosters(mission.boosters,\n            this._cluster, mission.id, this.runtimeId, this.versionId);\n        }\n        mission.disabled = availableBoosters.empty;\n        mission.disabledReason = availableBoosters.emptyReason;\n        mission.community = this.launcherComponent.flow === 'osio'\n          && !mission.disabled && this.versionId === 'community';\n        if (this.missionId === mission.id && availableBoosters.empty) {\n          this.clearMission();\n        }\n      }\n    });\n    this._runtimes.forEach(runtime => {\n      const availableBoosters = MissionRuntimeService.getAvailableBoosters(runtime.boosters,\n        this._cluster, this.missionId, runtime.id);\n      const versions = _.chain(availableBoosters.boosters)\n        .map(b => b.version)\n        .uniq()\n        .value()\n        .sort(MissionRuntimeService.compareVersions);\n      if (this.runtimeId === runtime.id && availableBoosters.empty) {\n        this.clearRuntime();\n      }\n      runtime.disabled = availableBoosters.empty;\n      runtime.disabledReason = availableBoosters.emptyReason;\n      runtime.versions = versions;\n      runtime.selectedVersion = this.getRuntimeSelectedVersion(runtime.id, versions);\n    });\n  }\n\n  private getRuntimeSelectedVersion(runtimeId: string, versions: BoosterVersion[]): BoosterVersion {\n    if (this.runtimeId === runtimeId && this.versionId) {\n      const selectedVersion = versions.find(v => v.id === this.versionId);\n      if (selectedVersion) {\n        return selectedVersion;\n      }\n      // Reset selected runtime and version since it is not available\n      this.clearRuntime();\n    }\n    return _.first(versions);\n  }\n\n  private clearRuntime(): void {\n    this.runtimeId = undefined;\n    this.versionId = undefined;\n    this.launcherComponent.summary.runtime = undefined;\n  }\n\n  private clearMission(): void {\n    this.missionId = undefined;\n    this.launcherComponent.summary.mission = undefined;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  encapsulation: ViewEncapsulation.None,\n  selector: 'f8launcher-missionruntime-createapp-step',\n  templateUrl: './mission-runtime-createapp-step.component.html',\n  styleUrls: ['./mission-runtime-createapp-step.component.less']\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: LauncherComponent, decorators: [{ type: Host }, ]},\n{type: MissionRuntimeService, },\n{type: DomSanitizer, },\n{type: Broadcaster, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}